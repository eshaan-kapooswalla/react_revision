{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  user: null,\n  token: localStorage.getItem('token'),\n  status: 'idle',\n  error: null\n};\nexport const login = createAsyncThunk('auth/login', async credentials => {\n  const response = await axios.post('http://localhost:8080/api/auth/login', credentials);\n  localStorage.setItem('token', response.data.token);\n  return response.data;\n});\nexport const register = createAsyncThunk('auth/register', async userData => {\n  const response = await axios.post('http://localhost:8080/api/auth/register', userData);\n  localStorage.setItem('token', response.data.token);\n  return response.data;\n});\nexport const logout = createAsyncThunk('auth/logout', async () => {\n  localStorage.removeItem('token');\n  return null;\n});\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(login.fulfilled, (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n    }).addCase(register.fulfilled, (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n    }).addCase(logout.fulfilled, state => {\n      state.user = null;\n      state.token = null;\n    });\n  }\n});\nexport const selectUser = state => state.auth.user;\nexport const selectToken = state => state.auth.token;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","user","token","localStorage","getItem","status","error","login","credentials","response","post","setItem","data","register","userData","logout","removeItem","authSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","selectUser","auth","selectToken","reducer"],"sources":["/Users/eshaan.kapooswalla/Documents/frontend/react5/frontend/src/features/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n  user: null,\n  token: localStorage.getItem('token'),\n  status: 'idle',\n  error: null,\n};\n\nexport const login = createAsyncThunk('auth/login', async (credentials) => {\n  const response = await axios.post('http://localhost:8080/api/auth/login', credentials);\n  localStorage.setItem('token', response.data.token);\n  return response.data;\n});\n\nexport const register = createAsyncThunk('auth/register', async (userData) => {\n  const response = await axios.post('http://localhost:8080/api/auth/register', userData);\n  localStorage.setItem('token', response.data.token);\n  return response.data;\n});\n\nexport const logout = createAsyncThunk('auth/logout', async () => {\n  localStorage.removeItem('token');\n  return null;\n});\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(login.fulfilled, (state, action) => {\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n      })\n      .addCase(register.fulfilled, (state, action) => {\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n      })\n      .addCase(logout.fulfilled, (state) => {\n        state.user = null;\n        state.token = null;\n      });\n  },\n});\n\nexport const selectUser = (state) => state.auth.user;\nexport const selectToken = (state) => state.auth.token;\nexport default authSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAI;EACVC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACpCC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGT,gBAAgB,CAAC,YAAY,EAAE,MAAOU,WAAW,IAAK;EACzE,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,sCAAsC,EAAEF,WAAW,CAAC;EACtFL,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,IAAI,CAACV,KAAK,CAAC;EAClD,OAAOO,QAAQ,CAACG,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMC,QAAQ,GAAGf,gBAAgB,CAAC,eAAe,EAAE,MAAOgB,QAAQ,IAAK;EAC5E,MAAML,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,yCAAyC,EAAEI,QAAQ,CAAC;EACtFX,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,IAAI,CAACV,KAAK,CAAC;EAClD,OAAOO,QAAQ,CAACG,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMG,MAAM,GAAGjB,gBAAgB,CAAC,aAAa,EAAE,YAAY;EAChEK,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;EAChC,OAAO,IAAI;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGpB,WAAW,CAAC;EAC5BqB,IAAI,EAAE,MAAM;EACZlB,YAAY;EACZmB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACf,KAAK,CAACgB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3CD,KAAK,CAACvB,IAAI,GAAGwB,MAAM,CAACC,OAAO,CAACzB,IAAI;MAChCuB,KAAK,CAACtB,KAAK,GAAGuB,MAAM,CAACC,OAAO,CAACxB,KAAK;IACpC,CAAC,CAAC,CACDoB,OAAO,CAACT,QAAQ,CAACU,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC9CD,KAAK,CAACvB,IAAI,GAAGwB,MAAM,CAACC,OAAO,CAACzB,IAAI;MAChCuB,KAAK,CAACtB,KAAK,GAAGuB,MAAM,CAACC,OAAO,CAACxB,KAAK;IACpC,CAAC,CAAC,CACDoB,OAAO,CAACP,MAAM,CAACQ,SAAS,EAAGC,KAAK,IAAK;MACpCA,KAAK,CAACvB,IAAI,GAAG,IAAI;MACjBuB,KAAK,CAACtB,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAMyB,UAAU,GAAIH,KAAK,IAAKA,KAAK,CAACI,IAAI,CAAC3B,IAAI;AACpD,OAAO,MAAM4B,WAAW,GAAIL,KAAK,IAAKA,KAAK,CAACI,IAAI,CAAC1B,KAAK;AACtD,eAAee,SAAS,CAACa,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}